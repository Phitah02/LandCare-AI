<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LandCare AI - Land Analysis Platform</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="apple-touch-icon" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/favicon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/favicon/android-chrome-512x512.png">
    <link rel="manifest" href="assets/favicon/site.webmanifest">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css" />
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="assets/LandCare AI logo.svg" alt="LandCare AI Logo" class="logo-image">
                <div class="logo-text">
                    <h2>LandCare AI</h2>
                    <p>Land Analysis Platform</p>
                </div>
            </div>
            <ul class="nav-menu">
                <li><a href="#hero">Home</a></li>
                <li><a href="#features">About us</a></li>
                <li><a href="#future">Our Impact</a></li>
                <li><a href="#cta-footer">Get involved</a></li>
            </ul>
            <div class="nav-actions">
                <div id="auth-section">
                    <button id="login-btn" class="btn-secondary">Login</button>
                    <button id="register-btn" class="btn-primary">Sign Up</button>
                </div>
                <div id="user-section" style="display: none;">
                    <span id="user-email"></span>
                    <button id="logout-btn" class="btn-secondary">Logout</button>
                </div>
                <button id="theme-toggle" class="theme-toggle-btn">ðŸŒ™ Dark Mode</button>
            </div>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="login-form" class="auth-form">
                <h2>Login to LandCare AI</h2>
                <form id="login-form-element">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit" class="btn-primary">Login</button>
                </form>
                <p class="auth-switch">Don't have an account? <a href="#" id="switch-to-register">Sign up</a></p>
            </div>
            <div id="register-form" class="auth-form" style="display: none;">
                <h2>Sign Up for LandCare AI</h2>
                <form id="register-form-element">
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" required>
                    </div>
                    <div class="form-group">
                        <label for="register-confirm-password">Confirm Password</label>
                        <input type="password" id="register-confirm-password" required>
                    </div>
                    <button type="submit" class="btn-primary">Sign Up</button>
                </form>
                <p class="auth-switch">Already have an account? <a href="#" id="switch-to-login">Login</a></p>
            </div>
        </div>
    </div>

    <main id="app">
        <section id="hero" class="hero-section">
            <div class="hero-content">
                <h1>See Your Local Environment. Understand Its Future.</h1>
                <p>Explore the health of your community's land, forecast environmental changes, and discover how you can contribute to a greener future.</p>
                <div class="hero-actions">
                    <button class="btn-primary" aria-label="Explore your area for land analysis">Explore Your Area</button>
                    <button class="btn-secondary" aria-label="Learn more about LandCare AI">Learn More</button>
                </div>
            </div>
        </section>

        <section id="features" class="features-section">
            <div class="container">
                <h2>Key Analysis Areas</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-leaf"></i>
                        <h3>Vegetation</h3>
                        <p>Monitor NDVI, EVI, and SAVI vegetation indices using satellite imagery to assess land productivity and health.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-mountain"></i>
                        <h3>Soil</h3>
                        <p>Assess erosion risk, slope analysis, and land cover types for sustainable management.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-tint"></i>
                        <h3>Water</h3>
                        <p>Integrate weather data for humidity, precipitation, and water resource analysis.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="explore" class="explore-section">
            <div class="container">
                <h2>Explore your area</h2>
                <div id="status-indicator" class="status-indicator">
                    <div id="connection-status" class="status-dot"></div>
                    <span id="status-text">Connected</span>
                </div>
                <div id="toolbar">
                    <div id="roi-input-container">
                        <input type="text" id="roi-input" placeholder="Enter location: Nairobi County" aria-label="Enter location name for search" />
                        <button id="search-location" aria-label="Search for the entered location">Search Location</button>
                    </div>
                    <div id="drawing-controls">
                        <button id="draw-polygon" aria-label="Draw polygon on map for analysis">Draw Polygon</button>
                        <button id="clear-drawings" aria-label="Clear all drawings and reset map">Clear/Reset</button>
                        <button id="analyze" aria-label="Analyze the selected polygon area">Analyze</button>
                    </div>
                </div>

                <div id="explore-content">
                    <div id="map-container">
                        <div id="map"></div>
                        <div id="map-legend" class="map-legend">
                            <h4>Vegetation Indices Legend</h4>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #388e3c;"></div>
                                <span>High Vegetation (0.8+)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #4caf50;"></div>
                                <span>Good Vegetation (0.6-0.8)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #ffc107;"></div>
                                <span>Moderate Vegetation (0.4-0.6)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #ff9800;"></div>
                                <span>Low Vegetation (0.2-0.4)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #d32f2f;"></div>
                                <span>Very Low Vegetation (<0.2)</span>
                            </div>
                            
                            <hr style="margin: 10px 0; border: 1px solid #ddd;">
                            
                            <h4>Risk Assessment</h4>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #d32f2f;"></div>
                                <span>High Risk</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #ffc107;"></div>
                                <span>Medium Risk</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #28a745;"></div>
                                <span>Low Risk</span>
                            </div>
                        </div>
                    </div>

                    <div id="results-panel">
                        <div id="results-header">
                        <h3>Analysis Results</h3>
                            <div id="risk-indicator" class="risk-indicator">
                                <span id="risk-level">-</span>
                                <span id="risk-score">-</span>
                            </div>
                        </div>
                        
                        <div id="results-tabs">
                            <button class="tab-button active" data-tab="overview">Statistics</button>
                            <button class="tab-button" data-tab="historical">Historical</button>
                            <button class="tab-button" data-tab="forecasting">Forecasting</button>
                            <button class="tab-button" data-tab="risk">Risk Analysis</button>
                        </div>
                        
                        <div id="results-content">
                            <div id="overview-tab" class="tab-content active">
                                <div class="basic-statistics">
                                    <div class="stat-item">
                                        <span class="stat-label">NDVI:</span>
                                        <span class="stat-value" id="ndvi-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">EVI:</span>
                                        <span class="stat-value" id="evi-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">SAVI:</span>
                                        <span class="stat-value" id="savi-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Area:</span>
                                        <span class="stat-value" id="area-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Slope:</span>
                                        <span class="stat-value" id="slope-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Temperature:</span>
                                        <span class="stat-value" id="temperature-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Humidity:</span>
                                        <span class="stat-value" id="humidity-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Weather:</span>
                                        <span class="stat-value" id="weather-description-value">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Land Cover:</span>
                                        <div id="land-cover-details" class="land-cover-details"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="historical-tab" class="tab-content">
                                <h4>Historical Analysis</h4>
                                <div class="historical-controls">
                                    <div class="control-group">
                                        <label for="historical-months-select">VIs Period (months):</label>
                                        <select id="historical-months-select">
                                            <option value="3">3 months</option>
                                            <option value="6">6 months</option>
                                            <option value="12" selected>12 months</option>
                                        </select>
                                        <button id="historical-ndvi" class="btn btn-secondary">Load Historical VIs</button>
                                    </div>
                                    <div class="control-group">
                                        <label>Weather Period:</label>
                                        <div class="period-buttons">
                                            <button id="period-7" class="period-btn">Last 7 days</button>
                                            <button id="period-30" class="period-btn">Last 30 days</button>
                                            <button id="period-90" class="period-btn">Last 90 days</button>
                                            <button id="period-365" class="period-btn">Last 365 days</button>
                                        </div>
                                        <label for="historical-weather-start">Weather Start Date:</label>
                                        <input type="date" id="historical-weather-start" value="2024-01-01">
                                        <label for="historical-weather-end">End Date:</label>
                                        <input type="date" id="historical-weather-end" value="2024-01-31">
                                        <button id="historical-weather" class="btn btn-secondary">Load Historical Weather</button>
                                    </div>
                                </div>
                                <div class="chart-container">
                                    <canvas id="historical-ndvi-chart" width="400" height="200" aria-label="Historical Vegetation Indices Chart"></canvas>
                                    <canvas id="historical-weather-chart" width="400" height="200" aria-label="Historical Weather Data Chart"></canvas>
                                </div>
                                <div class="historical-stats">
                                    <div class="stat-card">
                                        <h4>Data Points</h4>
                                        <div class="stat-value" id="historical-data-points">-</div>
                                    </div>
                                    <div class="stat-card">
                                        <h4>Time Range</h4>
                                        <div class="stat-value" id="historical-time-range">-</div>
                                    </div>
                                    <div class="stat-card">
                                        <h4>Trend</h4>
                                        <div class="stat-value" id="historical-trend">-</div>
                                    </div>
                                </div>
                            </div>

                            <div id="forecasting-tab" class="tab-content">
                                <h4>Forecasting</h4>
                                <div class="forecasting-controls">
                                    <div class="control-group">
                                        <label for="forecast-historical-months-select">Historical VIs (months):</label>
                                        <select id="forecast-historical-months-select">
                                            <option value="6">6 months</option>
                                            <option value="12" selected>12 months</option>
                                        </select>
                                        <label for="forecast-months-select">Forecast Period (months):</label>
                                        <select id="forecast-months-select">
                                            <option value="3">3 months</option>
                                            <option value="6">6 months</option>
                                            <option value="12" selected>12 months</option>
                                        </select>
                                        <button id="forecast-ndvi" class="btn btn-secondary">Forecast VIs</button>
                                    </div>
                                    <div class="control-group">
                                        <label for="forecast-days-select">Forecast Period (days):</label>
                                        <select id="forecast-days-select">
                                            <option value="3">3 days</option>
                                            <option value="5" selected>5 days</option>
                                            <option value="7">7 days</option>
                                            <option value="10">10 days</option>
                                            <option value="14">14 days</option>
                                            <option value="16">16 days</option>
                                        </select>
                                        <button id="forecast-weather" class="btn btn-secondary">Forecast Weather</button>
                                    </div>
                                </div>
                                <div class="chart-container">
                                    <canvas id="forecast-ndvi-chart" width="400" height="200" aria-label="Forecasted Vegetation Indices Chart"></canvas>
                                    <canvas id="forecast-weather-chart" width="400" height="200" aria-label="Forecasted Weather Data Chart"></canvas>
                                </div>
                                <div class="forecast-info">
                                    <div class="stat-card">
                                        <h4>Forecast Period</h4>
                                        <div class="stat-value" id="forecast-period">12 months</div>
                                    </div>
                                    <div class="stat-card">
                                        <h4>Model Type</h4>
                                        <div class="stat-value" id="forecast-model">ARIMA/SARIMA</div>
                                    </div>
                                    <div class="stat-card">
                                        <h4>Confidence Level</h4>
                                        <div class="stat-value" id="forecast-confidence">95%</div>
                                    </div>
                                </div>
                            </div>

                            <div id="risk-tab" class="tab-content">
                                <div class="risk-breakdown">
                                    <h4>Risk Factors</h4>
                                    <div class="risk-factor">
                                        <span class="risk-label">
                                            Vegetation Risk:
                                            <i class="fas fa-info-circle risk-info-icon" data-tooltip="Assesses vegetation health based on NDVI, EVI, and SAVI indices. High risk indicates degraded vegetation."></i>
                                        </span>
                                        <div class="risk-meter">
                                            <div class="risk-fill" id="vegetation-risk-fill"></div>
                                            <span class="risk-percentage" id="vegetation-risk-percent">-</span>
                                            <span class="risk-level-text" id="vegetation-risk-level">-</span>
                                        </div>
                                    </div>
                                    <div class="risk-factor">
                                        <span class="risk-label">
                                            Land Cover Risk:
                                            <i class="fas fa-info-circle risk-info-icon" data-tooltip="Evaluates land cover types and their susceptibility to degradation. High risk suggests vulnerable land cover."></i>
                                        </span>
                                        <div class="risk-meter">
                                            <div class="risk-fill" id="landcover-risk-fill"></div>
                                            <span class="risk-percentage" id="landcover-risk-percent">-</span>
                                            <span class="risk-level-text" id="landcover-risk-level">-</span>
                                        </div>
                                    </div>
                                    <div class="risk-factor">
                                        <span class="risk-label">
                                            Erosion Risk:
                                            <i class="fas fa-info-circle risk-info-icon" data-tooltip="Measures soil erosion potential based on slope and land cover. High risk indicates severe erosion threat."></i>
                                        </span>
                                        <div class="risk-meter">
                                            <div class="risk-fill" id="erosion-risk-fill"></div>
                                            <span class="risk-percentage" id="erosion-risk-percent">-</span>
                                            <span class="risk-level-text" id="erosion-risk-level">-</span>
                                        </div>
                                    </div>
                                    <div class="risk-factor">
                                        <span class="risk-label">
                                            Weather Risk:
                                            <i class="fas fa-info-circle risk-info-icon" data-tooltip="Analyzes weather conditions like temperature and humidity for land health impact. High risk signals adverse weather effects."></i>
                                        </span>
                                        <div class="risk-meter">
                                            <div class="risk-fill" id="weather-risk-fill"></div>
                                            <span class="risk-percentage" id="weather-risk-percent">-</span>
                                            <span class="risk-level-text" id="weather-risk-level">-</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="early-warnings" id="early-warnings-section">
                                    <h4>Early Warnings</h4>
                                    <div id="early-warnings-list"></div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div id="default-message">
                            <p>Draw a polygon on the map and click Analyze to get comprehensive land analysis.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="future" class="future-section">
            <div class="container">
                <h2>What Does the Future Hold?</h2>
                <p>Our AI models predict potential environmental changes under different scenarios, helping us prepare and act proactively.</p>
                <div class="charts-container">
                    <article class="chart-item">
                        <h3>Predicted Vegetation Health (5 Years)</h3>
                        <p>How green will our future be? This chart shows projected changes in vegetation density.</p>
                        <canvas id="futureVegetationChart" width="400" aria-label="Predicted Vegetation Health Chart for 5 Years"></canvas>
                        <p class="chart-info">
                            <i class="fas fa-info-circle" aria-hidden="true"></i>
                            Projection based on current trends and climate models.
                        </p>
                    </article>
                    <article class="chart-item">
                        <h3>Future Soil Erosion Risk (Scenario A)</h3>
                        <p>Understanding potential erosion helps us implement preventative measures.</p>
                        <canvas id="futureErosionChart" width="400" aria-label="Future Soil Erosion Risk Chart Scenario A"></canvas>
                        <p class="chart-info">
                            <i class="fas fa-info-circle" aria-hidden="true"></i>
                            Scenario A: Moderate rainfall increase with minimal human intervention.
                        </p>
                    </article>
                </div>
            </div>
        </section>

        <footer id="cta-footer" class="cta-footer">
            <div class="container">
                <h2>Be part of the solution</h2>
                <p>Join us in protecting our land and environment.</p>
                <a href="#explore" class="cta-button" aria-label="Start exploring land analysis">Start Exploring</a>
            </div>
            <div class="landCare-footer">
                <p>&copy; 2025 LandCare AI. All rights reserved.</p>
            </div>
        </footer>
    </main>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/map-handler.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
